def bintrayUser = project.findProperty('bintrayUser') ?: System.env.BINTRAY_USER
def bintrayKey = project.findProperty('bintrayKey') ?: System.env.BINTRAY_KEY
def gpgPassphrase = project.findProperty('gpgPassphrase') ?: System.env.GPG_PASSPHRASE
boolean enableBintray = bintrayUser && bintrayKey && gpgPassphrase

if (enableBintray) {
  bintray {
    user = bintrayUser
    key = bintrayKey
    publications = ['mavenPublication']

    pkg {
      repo = 'maven'
      name = "${project.name}-client"
      userOrg = project.org
      desc = project.description
      issueTrackerUrl = project.tracker
      vcsUrl = project.httpscm
      licenses = [project.license]
      version {
        name = releaseVersion
        released = new Date()
        vcsTag = releaseVersion
//        gpg {
//          sign = true
//          passphrase = gpgPassphrase
//        }
      }
    }
  }
}
